# node基础知识二

### 1、模块
在NodeJS中，一般将代码合理拆分到不同的JS文件中，每一个文件就是一个模块，而文件路径就是模块名。

#### （1）模块变量
在编写每个模块时，都有require、exports、module三个预先定义好的变量可供使用。

#### （2）模块初始化
一个模块中的JS代码仅在模块第一次被使用时执行一次，并在执行过程中初始化模块的导出对象。之后，缓存起来的导出对象被重复利用。NodeJS使用CMD模块系统。？？？

#### （3）主模块
通过命令行参数传递给NodeJS以启动程序的模块被称为主模块。主模块负责调度组成整个程序的其它模块完成工作。

#### （4）模块路径解析规则

a、内置模块

如果传递给require函数的是NodeJS内置模块名称，不做路径解析，直接返回内部模块的导出对象，例如require('fs')。

b、node_modules目录

c、NODE_PATH环境变量

NodeJS允许通过NODE_PATH环境变量来指定额外的模块搜索路径


### 2、包（package）

将多个子模块放在一起组成一个大模块就构成包。

#### （1）入口模块
在组成一个包的所有子模块中，需要有一个入口模块，入口模块的导出对象被作为包的导出对象。（就是exports对象）

index.js

当模块的文件名是index.js，加载模块时可以使用模块所在目录的路径代替模块文件路径

package.json

使用package.json来自定义入口文件路径

命令行程序（Linux && Windows）

把程序部署在/home/user/bin/node-echo.js